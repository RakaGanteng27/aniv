<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Happy 5th Anniversary ğŸ’•</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script:wght@500;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,system-ui,sans-serif}
body{background:linear-gradient(135deg,#fbc2eb,#a6c1ee);color:#fff;overflow-x:hidden}

/* HANDWRITTEN TITLE */
h1,h2{
  font-family:'Pacifico',cursive;
  letter-spacing:1px;
  text-shadow:0 4px 12px rgba(255,255,255,.35);
}
.subtitle,
.page>p:first-of-type{
  font-family:'Dancing Script',cursive;
  font-size:1.15em;
}

/* ENVELOPE */
#envelope-screen{
  position:fixed;inset:0;z-index:10;
  display:flex;justify-content:center;align-items:center;
  background:linear-gradient(135deg,#fbc2eb,#fad0c4)
}
.envelope{width:220px;height:150px;background:#fff;border-radius:12px;position:relative;cursor:pointer}
.envelope::before{
  content:"";position:absolute;inset:0;
  background:linear-gradient(135deg,#ffd1dc,#ffb6c1);
  clip-path:polygon(0 0,50% 60%,100% 0,100% 100%,0 100%);
  border-radius:12px
}
.flap{
  position:absolute;inset:0;background:#ffb6c1;
  clip-path:polygon(0 0,50% 55%,100% 0);
  transform-origin:top;transition:1s
}
.envelope.open .flap{transform:rotateX(180deg)}

/* PAGES */
.pages{display:flex;width:500vw;min-height:100vh;transition:.6s ease}
.page{
  width:100vw;min-height:100vh;padding:24px;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;text-align:center;
  overflow:hidden;position:relative;
}

/* NAV */
.nav{position:fixed;bottom:20px;width:100%;display:flex;justify-content:space-between;padding:0 24px;z-index:5}
button{
  border:none;padding:10px 18px;border-radius:20px;
  background:rgba(255,255,255,.3);color:#fff
}

.card{
  background:rgba(255,255,255,.85);
  backdrop-filter:blur(12px);
  padding:24px;
  border-radius:20px;
  max-width:420px;
  margin-top:20px;
  color:#4a2c3a;
}

.card p{
  color:#4a2c3a;
}

h1, h2{
  color:#fff;
}

.subtitle,
.page > p{
  color:#6b3e52;
}


/* SLIDER */
.slider{
  width:100%;
  overflow:hidden;
  margin-top:30px;
  padding:40px 0;
  position:relative;
}

/* efek gelap lembut kiri */
.slider::before,
.slider::after{
  content:"";
  position:absolute;
  top:0;
  width:80px;
  height:100%;
  z-index:5;
  pointer-events:none;
}

.slider::before{
  left:0;
  background:linear-gradient(to right, rgba(251,194,235,1), transparent);
}

.slider::after{
  right:0;
  background:linear-gradient(to left, rgba(166,193,238,1), transparent);
}


.track {
  display: flex;
  gap: 24px;
  width: max-content;   /* penting */
  animation: scroll 45s linear infinite;
}

@keyframes scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}


.photo {
  position: relative;
  flex-shrink: 0;
  transition: transform .6s ease;
  transform-origin: center center;
  width: 150px; /* Tetapkan lebar tetap untuk setiap foto */
}

.photo img {
  width: 100%; /* Ubah untuk menggunakan 100% dari lebar .photo */
  height: auto; /* Biarkan tinggi otomatis untuk menjaga rasio aspek */
  object-fit: cover;
  border-radius: 16px;
  display: block;
  transition: transform .6s ease;
}

.photo.active{transform:scale(1.3); z-index:10;}
.photo span{
  position:absolute;bottom:0;left:0;right:0;
  padding:8px;font-size:.9em;
  font-family:'Dancing Script',cursive;
  background:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0));
  border-radius:0 0 16px 16px
}

/* VIDEO */
video{width:90%;max-width:420px;border-radius:18px}

/* LOVE */
/* LOVE EFFECT */
.love{
  position:fixed;
  top:-10px;
  font-size:22px;
  animation:fall linear forwards;
  pointer-events:none;
  z-index:999;
  filter:drop-shadow(0 4px 6px rgba(0,0,0,.2));
}

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

@keyframes fall{to{transform:translateY(110vh);opacity:0}}

/* =========================
   CARD UCAPAN
   ========================= */
.card{
  /* ukuran */
  width: 420px;        /* lebar default di layar besar */
  max-width: 90%;      /* supaya aman di mobile */
  height: auto;        /* tinggi mengikuti isi */

  /* posisi */
  margin: 0 auto;      /* center horizontal */

  /* tampilan */
  background: rgba(255,255,255,0.9); /* putih transparan */
  backdrop-filter: blur(12px);       /* efek kaca */
  border-radius: 22px;               /* sudut melengkung */
  padding: 24px;                     /* jarak teks ke tepi */

  /* bayangan */
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);

  /* animasi masuk */
  animation: fadeUp 1s ease;
}

/* =========================
   TEKS MESSAGE
   ========================= */
.message{
  font-size: 16px;     /* ukuran teks */
  line-height: 1.8;    /* jarak antar baris */
  color: #444;         /* warna teks (lebih kontras) */
  text-align: center;  /* teks rata tengah */

  /* supaya teks panjang rapi */
  white-space: normal;
  word-wrap: break-word;
}

/* =========================
   JIKA PESAN SANGAT PANJANG
   ========================= */
.card.long-message{
  max-height: 75vh;    /* maksimal tinggi 75% layar */
  overflow-y: auto;    /* bisa scroll ke bawah */
}

/* =========================
   RESPONSIVE MOBILE
   ========================= */
@media (max-width:480px){
  .card{
    width: 100%;
    padding: 20px;
  }

  .message{
    font-size: 15px;
    line-height: 1.7;
  }
}

@media (max-width: 768px){

  .pages{
    width:500vw;
  }

  .page{
    padding:20px;
  }

  h1{font-size:22px;}
  h2{font-size:20px;}

  .video-container{
  position:relative;
  width:100%;
  padding-bottom:56.25%; /* 16:9 */
  height:0;
}

.video-container iframe{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  border-radius:20px;
}
}


/* =========================
   ANIMASI CARD MASUK
   ========================= */
@keyframes fadeUp{
  from{
    opacity: 0;
    transform: translateY(20px);
  }
  to{
    opacity: 1;
    transform: translateY(0);
  }
}

.confetti{
  position:fixed;
  top:-10px;
  width:8px;
  height:14px;
  opacity:0.9;
  animation:confettiFall linear forwards;
  z-index:999;
}

@keyframes confettiFall{
  to{
    transform:translateY(110vh) rotate(720deg);
    opacity:0;
  }
}


</style>
</head>

<body>

<audio id="music" loop>
  <source src="lagu.mp3">
</audio>

<div id="envelope-screen">
  <div>
    <div class="envelope" onclick="openEnvelope()">
      <div class="flap"></div>
    </div>
    <p class="subtitle" style="margin-top:14px">Tap amplopnya dongss ğŸ’Œ</p>
  </div>
</div>

<div class="pages" id="pages">

<section class="page">
  <h1>Happy 5th Anniversary sayaaangg ğŸ’•</h1> 
  <p class="subtitle">27 Maret â€¢ 5 Tahun Bersama</p>
  <p id="counter" class="subtitle" style="margin-top:10px"></p>

  <div class="card">
    <p class="subtitle">
      27 maret bukan sesuatu yg asing di telinga kita bukan??<br>
      Lima tahun bukan waktu yang singkat ğŸ’–<br>
      Terima kasih sudah selalu ada ketika senang maupun sulit ğŸ¤
    </p>
  </div>

  <button onclick="openMessage()" style="margin-top:18px">
    ğŸ’Œ Message from me to you
  </button>
</section>

<section class="page">
  <h2>Our Memories ğŸ“¸</h2>
  <div class="slider">
    <div class="track">
      <div class="photo"><img src="foto1.jpeg"><span>First time foto berdua wkwk ğŸ’•</span></div>
      <div class="photo"><img src="foto2.jpeg"><span>Pertama kali kamu jadi pasukan pengibar kecamatan ğŸ¤</span></div>
      <div class="photo"><img src="foto3.jpeg"><span>Momen terseruu KITAAA!!! âœ¨</span></div>
      <div class="photo"><img src="foto4.jpeg"><span>Pas aku turnamenn tapi kalahh huu ğŸ˜¢</span></div>
      <div class="photo"><img src="foto5.jpeg"><span>Momen yg banyak berduanya pas uprak ğŸ’–</span></div>
      <div class="photo"><img src="foto6.jpeg"><span>Kelulusann kitaa >.< ğŸ¤</span></div>
      <div class="photo"><img src="foto7.jpeg"><span>Kenangan manis, perayaan aniv ketiga âœ¨</span></div>
      <div class="photo"><img src="foto8.jpeg"><span>Foto terlucu menurutt akuu ğŸ¥¹</span></div>
      <div class="photo"><img src="foto9.jpeg"><span>Dan inii ketika kamu lombaa ğŸ˜Š</span></div>
      <div class="photo"><img src="foto10.jpeg"><span>Momenn kitaa kembali lagii ğŸ’•</span></div>
     <div class="photo"><img src="foto1.jpeg"><span>First time foto berdua wkwk ğŸ’•</span></div>
      <div class="photo"><img src="foto2.jpeg"><span>Pertama kali kamu jadi pasukan pengibar kecamatan ğŸ¤</span></div>
      <div class="photo"><img src="foto3.jpeg"><span>Momen terseruu KITAAA!!! âœ¨</span></div>
      <div class="photo"><img src="foto4.jpeg"><span>Pas aku turnamenn tapi kalahh huu ğŸ˜¢</span></div>
      <div class="photo"><img src="foto5.jpeg"><span>Momen yg banyak berduanya pas uprak ğŸ’–</span></div>
      <div class="photo"><img src="foto6.jpeg"><span>Kelulusann kitaa >.< ğŸ¤</span></div>
      <div class="photo"><img src="foto7.jpeg"><span>Kenangan manis, perayaan aniv ketiga âœ¨</span></div>
      <div class="photo"><img src="foto8.jpeg"><span>Foto terlucu menurutt akuu ğŸ¥¹</span></div>
      <div class="photo"><img src="foto9.jpeg"><span>Dan inii ketika kamu lombaa ğŸ˜Š</span></div>
      <div class="photo"><img src="foto10.jpeg"><span>Momenn kitaa kembali lagii ğŸ’•</span></div>
    </div>
  </div>
</section>

<section class="page">
  <h2>Our Journey Timeline ğŸ¤</h2>

  <div class="card">
    <p class="message">
      <b>2021</b> â€” Kita mulai cerita ini ğŸ¤<br><br>
      <b>2022</b> â€” Aniv pertama dan ya cinta kita kadang masih kekanak-kanakan ğŸ’ª<br><br>
      <b>2023</b> â€” Anniversary ke-2 yang mulai menumbuhkan rasa serius kita âœ¨<br><br>
      <b>2024</b> â€” Kita lulus bersama dan semakin dewasa, dan sempat merayakan aniv ke-3 kita ğŸ¥¹<br><br>
      <b>2025</b> â€” 4 tahunâ€¦ dan aku masih memilih kamu setiap hari ğŸ’•<br><br>
      <b>2026</b> â€” And hari ini ANNIVERSARY Ke-5,Semoga kita terus bersama, melewati suka dan duka ğŸ¤
    </p>
  </div>
</section>


<section class="page">
  <h2>Our Video ğŸ¬</h2>
   <div class="video-container">
  <iframe 
    src="https://www.youtube.com/embed/yHAcAcuOpF4?si=-uKRk1WKb8LXc0Bl"
    title="Anniversary Video"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen>
  </iframe>
</div>

</section>

<section class="page">
  <p class="subtitle">Dan setelah semua iniâ€¦</p>
  <h1 id="finalTitle">Aku Masih Ingin BersamamuğŸ¤</h1>
  <button onclick="forever()" style="font-size:2.8rem;padding:14px 28px">
    Selamanya?
  </button>
</section>

</div>

<div class="nav">
  <button onclick="prev()">â†</button>
  <button onclick="next()">â†’</button>
</div>

<div id="messageBox" class="card long-message" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:9999; justify-content:center; align-items:center; background:rgba(0,0,0,0.25);">
  <div style="max-width:480px; margin:auto; background:rgba(255,255,255,0.97); border-radius:22px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,0.15); display:flex; flex-direction:column; justify-content:space-between; min-height:320px;">
    <div style="flex:1; display:flex; flex-direction:column; justify-content:center;">
      <p class="message">
        Kalau kamu baca iniâ€¦<br>
        terima kasih sudah memilih aku,memilih untuk menemanimu
        di setiap langkah hidupmu selama 5 tahun ini ğŸ’•
        Aku janji akan terus berusaha menjadi yang terbaik untukmu
        dan membuatmu bahagia, maafkan kalau selama ini ada salah dan khilaf ğŸ¤
        Aku sayang kamu lebih dari kata-kata yang bisa kuungkapkan
        dan aku harap kita bisa terus bersama di tahun-tahun mendatang
        melewati suka dan duka,tertawa dan menangis, saling mendukung dan menguatkan satu sama lain
        Aku ingin menjadi bagian dari hidupmu selamanya, karena kamu adalah segalanya bagiku ğŸ’–
        ini adalah awal dari babak baru dalam kisah kita, dan aku tak sabar untuk melihat apa yang akan datang
        semoga cinta kita terus tumbuh dan berkembang selamanya ğŸ¤
        <br><br>
Dan dari semua hari yang kita lewati,
yang paling aku syukuri adalah hari aku memutuskan untuk tetap bertahan bersamamu ğŸ¤
        Happy 5th Anniversary sayanggg ğŸ’–
        Aku cinta kamu
        setiap hari ğŸ¤
      </p>
    </div>
    <button onclick="closeMessage()" style="margin-top:24px; align-self:center; padding:10px 28px; border-radius:20px; background:#ffb6c1; color:#fff; border:none; font-size:1em;">Tutup</button>
  </div>
</div>

<script>
function openEnvelope(){
  document.querySelector('.envelope').classList.add('open');
  setTimeout(()=>{
    document.getElementById('envelope-screen').style.display='none';

    const music = document.getElementById('music');
    music.volume = 0;
    music.play();

    let vol = 0;
    const fade = setInterval(()=>{
      if(vol < 0.6){
        vol += 0.02;
        music.volume = vol;
      } else {
        clearInterval(fade);
      }
    },200);
  },900);
}

let page=0;
function update(){pages.style.transform=`translateX(-${page*100}vw)`;}
function next(){if(page<4)page++;update();}
function prev(){if(page>0)page--;update();}

const startDate=new Date("2021-03-27");
function counter(){
  const now=new Date();
  let y=now.getFullYear()-startDate.getFullYear();
  let m=now.getMonth()-startDate.getMonth();
  let d=now.getDate()-startDate.getDate();
  if(d<0){m--;d+=30}
  if(m<0){y--;m+=12}
  counter.innerHTML=`Aku sudah bersamanya sejak <b>27 Maret 2021</b><br>
  <b>${y} tahun ${m} bulan ${d} hari</b> ğŸ’•`;
}
setInterval(counter,1000);counter();

function openMessage(){messageBox.style.display="flex"}
function closeMessage(){messageBox.style.display="none"}

// LOVE JATUH OTOMATIS
setInterval(()=>{
  const love=document.createElement("div");
  love.className="love";
  love.innerHTML="ğŸ’–";
  love.style.left=Math.random()*100+"vw";
  love.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(love);
  setTimeout(()=>love.remove(),7000);
},600);

// LOVE SAAT TAP / CLICK
document.addEventListener("click",e=>{
  const love=document.createElement("div");
  love.className="love";
  love.innerHTML="ğŸ’—";
  love.style.left=e.clientX+"px";
  love.style.top=e.clientY+"px";
  love.style.animationDuration="2s";
  document.body.appendChild(love);
  setTimeout(()=>love.remove(),2000);
});

// Highlight the photo closest to the viewport center (auto-zoom)
const photos = document.querySelectorAll('.photo');
function updateActivePhoto(){
  if(!photos.length) return requestAnimationFrame(updateActivePhoto);
  const centerX = window.innerWidth / 2;
  let closest = null, minDist = Infinity;
  photos.forEach(p => {
    const r = p.getBoundingClientRect();
    const px = r.left + r.width / 2;
    const dist = Math.abs(px - centerX);
    if(dist < minDist){ minDist = dist; closest = p; }
  });
  photos.forEach(p => p.classList.toggle('active', p === closest));
  requestAnimationFrame(updateActivePhoto);
}
requestAnimationFrame(updateActivePhoto);

const track = document.querySelector('.track');

track.addEventListener('touchstart',()=>{
  track.style.animationPlayState = 'paused';
});

track.addEventListener('touchend',()=>{
  track.style.animationPlayState = 'running';
});

function forever(){

  const title = document.getElementById("finalTitle");

  title.innerHTML = `
  Terima kasih sudah memilihku setiap hari ğŸ¤<br>
  Dan aku akan selalu memilihmu, lagi dan lagi.
  Karena dari semua hari yang kita lewati,
  yang paling aku syukuri adalah hari aku memutuskan untuk tetap bertahan bersamamu ğŸ¤
  `;

  for(let i=0;i<40;i++){
    const conf = document.createElement("div");
    conf.className = "confetti";
    conf.style.left = Math.random()*100+"vw";
    conf.style.background = `hsl(${Math.random()*360},70%,70%)`;
    conf.style.animationDuration = (2+Math.random()*3)+"s";
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(),4000);
  }
}


</script>

</body>
</html>
